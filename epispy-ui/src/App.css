/* --- BASE & ROOT VARIABLES --- */
:root {
  --primary: #667eea; --secondary: #764ba2; --success: #10b981;
  --warning: #f59e0b; --danger: #ef4444; --critical: #7f1d1d;
  --dark: #1f2937; --gray: #6b7280; --light-gray: #f3f4f6; --white: #ffffff;
  --border-radius: 12px; --shadow-lg: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
}
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background-color: var(--light-gray);
  color: var(--dark);
}
.App { max-width: 1400px; margin: 0 auto; padding: 20px; }

/* --- HEADER & NAVIGATION --- */
.app-header {
  background: var(--white); padding: 20px; border-radius: var(--border-radius);
  box-shadow: var(--shadow-lg); margin-bottom: 20px; display: flex;
  justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px;
}
.app-logo { display: flex; align-items: center; gap: 15px; }
.app-logo h1 { font-size: 2.2em; margin: 0; }
.app-subtitle { color: var(--gray); font-size: 0.9em; margin-top: 2px; }
.status-indicator { display: flex; align-items: center; gap: 8px; font-size: 0.9em; }
.status-dot { width: 12px; height: 12px; border-radius: 50%; animation: pulse 2s infinite; }
.status-dot.online { background: var(--success); }
.status-dot.offline { background: var(--danger); }
.tabs-container { display: flex; gap: 10px; margin-bottom: 20px; }
.tab {
  padding: 12px 24px; background: white; border: 2px solid var(--light-gray);
  border-radius: 8px; font-size: 1em; font-weight: 600; cursor: pointer;
  transition: all 0.3s;
}
.tab:hover { background: var(--light-gray); }
.tab.active { background: var(--primary); color: white; border-color: var(--primary); }

/* --- CARD & FORM --- */
.card {
  background: var(--white); border-radius: var(--border-radius); padding: 30px;
  box-shadow: var(--shadow-lg); margin-bottom: 30px;
}
.card-header { margin-bottom: 20px; }
.card-title { font-size: 1.5em; margin: 0; }
.card-description { color: var(--gray); font-size: 0.9em; margin-top: 5px; }

/* --- FEATURE 1: HEATMAP --- */
.heatmap-container { position: relative; height: 500px; background: #e0f2fe; border-radius: 12px; overflow: hidden; }
.map-grid {
  position: relative; width: 100%; height: 100%;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><path d="M0 50h100M50 0v100" stroke="%23d1d5db" stroke-width="0.5"/></svg>');
}
.map-marker {
  position: absolute; width: 30px; height: 30px; border-radius: 50%;
  border: 3px solid white; transform: translate(-50%, -50%); cursor: pointer;
  animation: pulse 2s infinite; box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}
.map-marker.risk-low { background: var(--success); }
.map-marker.risk-medium { background: var(--warning); }
.map-marker.risk-high { background: var(--danger); }
.map-marker.risk-critical { background: var(--critical); }
.marker-tooltip {
  position: absolute; bottom: 40px; left: 50%; transform: translateX(-50%);
  background: white; padding: 10px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  white-space: nowrap; opacity: 0; pointer-events: none; transition: opacity 0.3s; z-index: 10;
}
.map-marker:hover .marker-tooltip { opacity: 1; }
.map-legend {
  position: absolute; bottom: 20px; right: 20px; background: white;
  padding: 15px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
.legend-item { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
.legend-dot { width: 12px; height: 12px; border-radius: 50%; }
.legend-dot.low { background: var(--success); }
.legend-dot.medium { background: var(--warning); }
.legend-dot.high { background: var(--danger); }
.legend-dot.critical { background: var(--critical); }

/* --- FEATURE 2: PROBABILITY CHART --- */
.probability-chart {
  display: flex; align-items: flex-end; height: 250px; gap: 2px;
  padding: 20px; background: var(--light-gray); border-radius: 8px; margin-bottom: 20px;
}
.probability-bar {
  flex: 1; background: linear-gradient(to top, #ef4444, #f59e0b, #10b981);
  border-radius: 4px 4px 0 0; position: relative; transition: all 0.3s; min-height: 5%;
}
.probability-bar:hover { opacity: 0.8; transform: scaleY(1.05); }
.day-label {
  position: absolute; bottom: -25px; left: 50%; transform: translateX(-50%);
  font-size: 0.75em; color: var(--gray);
}
.probability-info { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
.info-item { text-align: center; padding: 15px; background: var(--light-gray); border-radius: 8px; }
.info-item span { display: block; color: var(--gray); font-size: 0.9em; }
.info-item strong { font-size: 1.2em; }
.trend-increasing { color: var(--danger); text-transform: capitalize; }

/* --- FEATURE 5: NOTIFICATIONS PANEL --- */
.notifications-panel {
  position: fixed; top: 20px; right: 20px; z-index: 1000;
  display: flex; flex-direction: column; gap: 10px;
}
.notification {
  width: 350px; background: white; border-radius: 8px;
  box-shadow: var(--shadow-lg); display: flex; align-items: flex-start;
  padding: 15px; border-left: 4px solid;
}
.notification-high { border-color: var(--danger); }
.notification-critical { border-color: var(--critical); }
.notification-icon { font-size: 1.5em; margin-right: 15px; }
.notification-content { flex-grow: 1; }
.notification-content strong { display: block; margin-bottom: 4px; }
.notification-content p { font-size: 0.9em; color: var(--gray); margin: 0; }
.notification-time { font-size: 0.8em; color: var(--gray); margin-top: 8px; display: block; }
.notification button { background: none; border: none; font-size: 1.2em; cursor: pointer; color: var(--gray); }

/* --- FEATURE 10: VOICE CONTROL --- */
.voice-btn {
  padding: 10px 20px; border: none; border-radius: 20px; background: var(--light-gray);
  font-weight: 600; cursor: pointer; transition: all 0.3s;
}
.voice-btn.listening { background: var(--danger); color: white; animation: pulse 1s infinite; }

@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.7; transform: scale(0.95); }
}